library(XML)
library(htmltab)
library(ggplot2)
library(zoo)
library(data.table)
library(gridExtra)
GetBuoyData<- function(buoyUrl,tideUrl){
dataset = htmltab(buoyUrl)
buoydata = htmltab(tideUrl)
# change the names of the columns
dataset$Date = dataset[,1]
dataset$Time = dataset[,2]
dataset$WaveHeight = dataset[,4]
dataset$WaveDir = dataset[,5]
dataset$WavePeriod = dataset[,6]
dataset$WindSpeed = dataset[,7]
dataset$WindDirection = dataset[,9]
dataset$Tide = buoydata[,3]
# exclude the long names
dataset = dataset[c(-1:-17)]
# Format the Date and time
# Join the two columns for date and time
dataset$DateTime <- paste(dataset$Date, dataset$Time, sep=" ")
# remove the words in parentheses
dataset$DateTime <- gsub("\\s*\\([^\\)]+\\)","",as.character(dataset$DateTime))
# format as POSIXct
dataset$DateTime <- as.POSIXct(dataset$DateTime,format="%m/%d %H:%M")
# get rid of the old date and time
dataset = dataset [c(-1,-2)]
# convert characters to numeric type
# clean up NAs
cols_to_change = c(1, 3, 4,6)
for(i in cols_to_change){
#Change to type numeric
dataset[,i] = as.numeric(dataset[,i])
#remove first NAs
dataset[,i] <- as.numeric(na.fill(dataset[,i], c('extend',NA)))
# aproximate all other NAs
dataset[,i] <- as.numeric(na.approx(dataset[,i]))
}
# subsetting dataset to last 3 days
dataset <- dataset[1:72,]
return(dataset)
}
GetTaitung <- function(){
TaitungUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/WRA007.html'
FugangBuoyURL = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1586.html'
TaitungData <- (GetBuoyData(TaitungUrl,FugangBuoyURL))
#  å°æ±æµ®æ¨™ <-TaitungData
save(TaitungData,file="TaitungBuoyData.Rda")
# save(å°æ±æµ®æ¨™,file="å°æ±æµ®æ¨™.Rda")
}
GetHualien <- function(){
HualienUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46699A.html'
HualienBuoyURL = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1256.html'
HualienData <- (GetBuoyData(HualienUrl,HualienBuoyURL))
# èŠ±è“®æµ®æ¨™ <-HualienData
save(HualienData,file="HualienBuoyData.Rda")
#save(èŠ±è“®æµ®æ¨™,file="èŠ±è“®æµ®æ¨™.Rda")
}
GetYilan <- function(){
YilanUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46708A.html'
YilanBuoy = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1236.html'
YilanData <- (GetBuoyData(YilanUrl,YilanBuoy))
# å®œè˜­æµ®æ¨™ <- YilanData
save(YilanData,file="YilanBuoyData.Rda")
# save(å®œè˜­æµ®æ¨™,file="å®œè˜­æµ®æ¨™.Rda")
}
GetSuAo <- function(){
SuAoUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46706A.html'
SuAoBuoy = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1246.html'
SuAoData <- (GetBuoyData(SuAoUrl,SuAoBuoy))
# è˜‡æ¾³æµ®æ¨™ <- SuAoData
save(SuAoData,file="SuAoBuoyData.Rda")
# save(è˜‡æ¾³æµ®æ¨™,file="è˜‡æ¾³æµ®æ¨™.Rda")
}
GetXiaoLiuQiu <- function(){
XiaoLiuQiuUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46714D.html'
XiaoLiuQiuBuoy = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1386.html'
XiaoLiuQiuData <- (GetBuoyData(XiaoLiuQiuUrl,XiaoLiuQiuBuoy))
# å°ç‰çƒæµ®æ¨™ <- XiaoLiuQiuData
save(XiaoLiuQiuData,file="XiaoLiuQiuBuoyData.Rda")
# save(å°ç‰çƒæµ®æ¨™,file="å°ç‰çƒæµ®æ¨™.Rda")
}
GetTideData <- function(tideUrl){
tideData <- htmltab(tideUrl,rm_nodata_cols = FALSE, rm_nodata_rows = FALSE)
tideData <- transpose(tideData)
colnames(tideData) <- as.character(unlist(tideData[1,]))
tideData <- tideData[-1,]
tideData[,3] <- gsub("morn-ing","morning",tideData[,3])
tideData[,3] <- gsub("after-noon","afternoon",tideData[,3])
tideData[is.na(tideData)] <- "-"
tideData$Time <- paste(tideData[,2],tideData[,3])
tideData <- tideData[,-c(1:4)]
if(ncol(tideData) < 16){
tideData <- tideData[,-c(3:10)]
tideData <- tideData[,c(5,1,2,3,4)]
return(tideData)
}else{
tideData <- tideData[,-c(6:13)]
tideData <- tideData[,c(8,1,2,6,7,3,4,5)]
tideData[,7] <- as.numeric(tideData[,7])
tideData[,8] <- as.numeric(tideData[,8])
tideData[,6] <- as.factor(tideData[,6])
tideData$Number <- as.numeric(c(1:nrow(tideData)))
return(tideData)
}
}
PredTaitung <- function(){
TaitungTide = 'https://www.tide-forecast.com/locations/Taitung-City/forecasts/latest/six_day'
TaitungTideData <- GetTideData(TaitungTide)
# å°æ±æ½® <- TaitungTideData
save(TaitungTideData,file="TaitungTideData.Rda")
# save(å°æ±æ½®,file="å°æ±æ½®.Rda")
}
PredHualien <- function(){
HualienTide = 'https://www.tide-forecast.com/locations/Hualien-City/forecasts/latest/six_day'
HualienTideData <- GetTideData(HualienTide)
# èŠ±è“®æ½®<- HualienTideData
save(HualienTideData,file="HualienTideData.Rda")
# save(èŠ±è“®æ½®,file="èŠ±è“®æ½®.Rda")
}
PredYilan <- function(){
ChiLungTide = 'https://www.tide-forecast.com/locations/Chi-Lung-Taiwan/forecasts/latest/six_day'
YilanTideData <- GetTideData(ChiLungTide)
# å®œè˜­æ½® <- YilanTideData
save(YilanTideData,file="YilanTideData.Rda")
# save(å®œè˜­æ½®,file="å®œè˜­æ½®.Rda")
}
PredSuAo <- function(){
ChiLungTide = 'https://www.tide-forecast.com/locations/Chi-Lung-Taiwan/forecasts/latest/six_day'
SuAoTideData <- GetTideData(ChiLungTide)
# è˜‡æ¾³æ½® <- SuAoTideData
save(SuAoTideData,file="SuAoTideData.Rda")
# save(è˜‡æ¾³æ½®,file="è˜‡æ¾³æ½®.Rda")
}
PredXiaoLiuQiu <- function(){
HengChunTide = 'https://www.tide-forecast.com/locations/Heng-ch-un/forecasts/latest/six_day'
XiaoLiuQiuTideData <- GetTideData(HengChunTide)
# å°ç‰çƒæ½® <- XiaoLiuQiuTideData
save(XiaoLiuQiuTideData,file="XiaoLiuQiuTideData.Rda")
# save(å°ç‰çƒæ½®,file="å°ç‰çƒæ½®.Rda")
}
install.packages(c("data.table", "ggplot2", "gridExtra", "htmltab", "XML", "zoo"))
View(GetBuoyData)
View(GetHualien)
GetTaitung()
library(XML)
library(htmltab)
library(ggplot2)
library(zoo)
library(data.table)
library(gridExtra)
GetTaitung()
View(PredTaitung)
View(GetTaitung)
load("~/TaitungBuoyData.Rda")
View(TaitungData)
library(XML)
library(htmltab)
library(ggplot2)
library(zoo)
library(data.table)
library(gridExtra)
GetBuoyData<- function(buoyUrl,tideUrl){
dataset = htmltab(buoyUrl)
buoydata = htmltab(tideUrl)
# change the names of the columns
dataset$Date = dataset[,1]
dataset$Time = dataset[,2]
dataset$WaveHeight = dataset[,4]
dataset$WaveDir = dataset[,5]
dataset$WavePeriod = dataset[,6]
dataset$WindSpeed = dataset[,7]
dataset$WindDirection = dataset[,9]
dataset$Tide = buoydata[,3]
# exclude the long names
dataset = dataset[c(-1:-17)]
# Format the Date and time
# Join the two columns for date and time
dataset$DateTime <- paste(dataset$Date, dataset$Time, sep=" ")
# remove the words in parentheses
dataset$DateTime <- gsub("\\s*\\([^\\)]+\\)","",as.character(dataset$DateTime))
# format as POSIXct
dataset$DateTime <- as.POSIXct(dataset$DateTime,format="%m/%d %H:%M")
# get rid of the old date and time
dataset = dataset [c(-1,-2)]
# convert characters to numeric type
# clean up NAs
cols_to_change = c(1, 3, 4,6)
for(i in cols_to_change){
#Change to type numeric
dataset[,i] = as.numeric(dataset[,i])
#remove first NAs
dataset[,i] <- as.numeric(na.fill(dataset[,i], c('extend',NA)))
# aproximate all other NAs
dataset[,i] <- as.numeric(na.approx(dataset[,i]))
}
# subsetting dataset to last 3 days
dataset <- dataset[1:72,]
return(dataset)
}
GetTaitung <- function(){
TaitungUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/WRA007.html'
FugangBuoyURL = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1586.html'
TaitungData <- (GetBuoyData(TaitungUrl,FugangBuoyURL))
#  å°æ±æµ®æ¨™ <-TaitungData
save(TaitungData,file="TaitungBuoyData.Rda")
# save(å°æ±æµ®æ¨™,file="å°æ±æµ®æ¨™.Rda")
}
GetHualien <- function(){
HualienUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46699A.html'
HualienBuoyURL = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1256.html'
HualienData <- (GetBuoyData(HualienUrl,HualienBuoyURL))
# èŠ±è“®æµ®æ¨™ <-HualienData
save(HualienData,file="HualienBuoyData.Rda")
#save(èŠ±è“®æµ®æ¨™,file="èŠ±è“®æµ®æ¨™.Rda")
}
GetYilan <- function(){
YilanUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46708A.html'
YilanBuoy = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1236.html'
YilanData <- (GetBuoyData(YilanUrl,YilanBuoy))
# å®œè˜­æµ®æ¨™ <- YilanData
save(YilanData,file="YilanBuoyData.Rda")
# save(å®œè˜­æµ®æ¨™,file="å®œè˜­æµ®æ¨™.Rda")
}
GetSuAo <- function(){
SuAoUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46706A.html'
SuAoBuoy = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1246.html'
SuAoData <- (GetBuoyData(SuAoUrl,SuAoBuoy))
# è˜‡æ¾³æµ®æ¨™ <- SuAoData
save(SuAoData,file="SuAoBuoyData.Rda")
# save(è˜‡æ¾³æµ®æ¨™,file="è˜‡æ¾³æµ®æ¨™.Rda")
}
GetXiaoLiuQiu <- function(){
XiaoLiuQiuUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46714D.html'
XiaoLiuQiuBuoy = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1386.html'
XiaoLiuQiuData <- (GetBuoyData(XiaoLiuQiuUrl,XiaoLiuQiuBuoy))
# å°ç‰çƒæµ®æ¨™ <- XiaoLiuQiuData
save(XiaoLiuQiuData,file="XiaoLiuQiuBuoyData.Rda")
# save(å°ç‰çƒæµ®æ¨™,file="å°ç‰çƒæµ®æ¨™.Rda")
}
GetTideData <- function(tideUrl){
tideData <- htmltab(tideUrl,rm_nodata_cols = FALSE, rm_nodata_rows = FALSE)
tideData <- transpose(tideData)
colnames(tideData) <- as.character(unlist(tideData[1,]))
tideData <- tideData[-1,]
tideData[,3] <- gsub("morn-ing","morning",tideData[,3])
tideData[,3] <- gsub("after-noon","afternoon",tideData[,3])
tideData[is.na(tideData)] <- "-"
tideData$Time <- paste(tideData[,2],tideData[,3])
tideData <- tideData[,-c(1:4)]
if(ncol(tideData) < 16){
tideData <- tideData[,-c(3:10)]
tideData <- tideData[,c(5,1,2,3,4)]
return(tideData)
}else{
tideData <- tideData[,-c(6:13)]
tideData <- tideData[,c(8,1,2,6,7,3,4,5)]
tideData[,7] <- as.numeric(tideData[,7])
tideData[,8] <- as.numeric(tideData[,8])
tideData[,6] <- as.factor(tideData[,6])
tideData$Number <- as.numeric(c(1:nrow(tideData)))
return(tideData)
}
}
PredTaitung <- function(){
TaitungTide = 'https://www.tide-forecast.com/locations/Taitung-City/forecasts/latest/six_day'
TaitungTideData <- GetTideData(TaitungTide)
# å°æ±æ½® <- TaitungTideData
save(TaitungTideData,file="TaitungTideData.Rda")
# save(å°æ±æ½®,file="å°æ±æ½®.Rda")
}
PredHualien <- function(){
HualienTide = 'https://www.tide-forecast.com/locations/Hualien-City/forecasts/latest/six_day'
HualienTideData <- GetTideData(HualienTide)
# èŠ±è“®æ½®<- HualienTideData
save(HualienTideData,file="HualienTideData.Rda")
# save(èŠ±è“®æ½®,file="èŠ±è“®æ½®.Rda")
}
PredYilan <- function(){
ChiLungTide = 'https://www.tide-forecast.com/locations/Chi-Lung-Taiwan/forecasts/latest/six_day'
YilanTideData <- GetTideData(ChiLungTide)
# å®œè˜­æ½® <- YilanTideData
save(YilanTideData,file="YilanTideData.Rda")
# save(å®œè˜­æ½®,file="å®œè˜­æ½®.Rda")
}
PredSuAo <- function(){
ChiLungTide = 'https://www.tide-forecast.com/locations/Chi-Lung-Taiwan/forecasts/latest/six_day'
SuAoTideData <- GetTideData(ChiLungTide)
# è˜‡æ¾³æ½® <- SuAoTideData
save(SuAoTideData,file="SuAoTideData.Rda")
# save(è˜‡æ¾³æ½®,file="è˜‡æ¾³æ½®.Rda")
}
PredXiaoLiuQiu <- function(){
HengChunTide = 'https://www.tide-forecast.com/locations/Heng-ch-un/forecasts/latest/six_day'
XiaoLiuQiuTideData <- GetTideData(HengChunTide)
# å°ç‰çƒæ½® <- XiaoLiuQiuTideData
save(XiaoLiuQiuTideData,file="XiaoLiuQiuTideData.Rda")
# save(å°ç‰çƒæ½®,file="å°ç‰çƒæ½®.Rda")
}
clearPushBack()
GetTaitung <- function(){
TaitungUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/WRA007.html'
FugangBuoyURL = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1586.html'
TaitungData <- (GetBuoyData(TaitungUrl,FugangBuoyURL))
#  å°æ±æµ®æ¨™ <-TaitungData
#save(TaitungData,file="TaitungBuoyData.Rda")
return(TaitungData)
# save(å°æ±æµ®æ¨™,file="å°æ±æµ®æ¨™.Rda")
}
tdf <- GetTaitung()
install.packages('rjson')
library(rjson)
toJSON(tdf)
tdf_json <- toJSON(tdf)
tdf_json
save(tdf_json,file='Taitung.JSON')
write(tdf_json,file='Taitung.JSON')
GetTaitung <- function(){
TaitungUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/WRA007.html'
FugangBuoyURL = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1586.html'
TaitungData <- (GetBuoyData(TaitungUrl,FugangBuoyURL))
#  å°æ±æµ®æ¨™ <-TaitungData
dfjson <- toJSON(TaitungData)
write(dfjson,file="TaitungBuoyData.JSON")
#return(TaitungData)
# save(å°æ±æµ®æ¨™,file="å°æ±æµ®æ¨™.Rda")
}
install.packages('jsonlite')
library(jsonlite)
tdf_json <- toJSON(tdf)
tdf_json
write(tdf_json,file='Taitung.JSON')
setwd("~/javascript/newtaiwanbuoys")
library(XML)
library(htmltab)
#library(ggplot2)
library(zoo)
library(data.table)
library(gridExtra)
library(jsonlite)
GetBuoyData<- function(buoyUrl,tideUrl){
dataset = htmltab(buoyUrl)
buoydata = htmltab(tideUrl)
# change the names of the columns
dataset$Date = dataset[,1]
dataset$Time = dataset[,2]
dataset$WaveHeight = dataset[,4]
dataset$WaveDir = dataset[,5]
dataset$WavePeriod = dataset[,6]
dataset$WindSpeed = dataset[,7]
dataset$WindDirection = dataset[,9]
dataset$Tide = buoydata[,3]
# exclude the long names
dataset = dataset[c(-1:-17)]
# Format the Date and time
# Join the two columns for date and time
dataset$DateTime <- paste(dataset$Date, dataset$Time, sep=" ")
# remove the words in parentheses
dataset$DateTime <- gsub("\\s*\\([^\\)]+\\)","",as.character(dataset$DateTime))
# format as POSIXct
dataset$DateTime <- as.POSIXct(dataset$DateTime,format="%m/%d %H:%M")
# get rid of the old date and time
dataset = dataset [c(-1,-2)]
# convert characters to numeric type
# clean up NAs
cols_to_change = c(1, 3, 4,6)
for(i in cols_to_change){
#Change to type numeric
dataset[,i] = as.numeric(dataset[,i])
#remove first NAs
dataset[,i] <- as.numeric(na.fill(dataset[,i], c('extend',NA)))
# aproximate all other NAs
dataset[,i] <- as.numeric(na.approx(dataset[,i]))
}
# subsetting dataset to last 3 days
dataset <- dataset[1:72,]
return(dataset)
}
GetTaitung <- function(){
TaitungUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/WRA007.html'
FugangBuoyURL = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1586.html'
TaitungData <- (GetBuoyData(TaitungUrl,FugangBuoyURL))
#  Ã¥ÂÂ°Ã¦ÂÂ±Ã¦ÂµÂ®Ã¦Â¨Â™ <-TaitungData
dfjson <- toJSON(TaitungData)
write(dfjson,file="./buoyData/Taitung.JSON")
# save(Ã¥ÂÂ°Ã¦ÂÂ±Ã¦ÂµÂ®Ã¦Â¨Â™,file="Ã¥ÂÂ°Ã¦ÂÂ±Ã¦ÂµÂ®Ã¦Â¨Â™.Rda")
}
GetHualien <- function(){
HualienUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46699A.html'
HualienBuoyURL = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1256.html'
HualienData <- (GetBuoyData(HualienUrl,HualienBuoyURL))
# Ã¨ÂŠÂ±Ã¨Â“Â®Ã¦ÂµÂ®Ã¦Â¨Â™ <-HualienData
#save(HualienData,file="HualienBuoyData.Rda")
dfjson <- toJSON(HualienData)
write(dfjson,file="./buoyData/Hualien.JSON")
#save(Ã¨ÂŠÂ±Ã¨Â“Â®Ã¦ÂµÂ®Ã¦Â¨Â™,file="Ã¨ÂŠÂ±Ã¨Â“Â®Ã¦ÂµÂ®Ã¦Â¨Â™.Rda")
}
GetYilan <- function(){
YilanUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46708A.html'
YilanBuoy = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1236.html'
YilanData <- (GetBuoyData(YilanUrl,YilanBuoy))
# Ã¥Â®ÂœÃ¨Â˜­Ã¦ÂµÂ®Ã¦Â¨Â™ <- YilanData
#save(YilanData,file="YilanBuoyData.Rda")
dfjson <- toJSON(YilanData)
write(dfjson,file="./buoyData/Yilan.JSON")
# save(Ã¥Â®ÂœÃ¨Â˜­Ã¦ÂµÂ®Ã¦Â¨Â™,file="Ã¥Â®ÂœÃ¨Â˜­Ã¦ÂµÂ®Ã¦Â¨Â™.Rda")
}
GetSuAo <- function(){
SuAoUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46706A.html'
SuAoBuoy = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1246.html'
SuAoData <- (GetBuoyData(SuAoUrl,SuAoBuoy))
# Ã¨Â˜Â‡Ã¦Â¾Â³Ã¦ÂµÂ®Ã¦Â¨Â™ <- SuAoData
#save(SuAoData,file="SuAoBuoyData.Rda")
dfjson <- toJSON(SuAoData)
write(dfjson,file="./buoyData/SuAo.JSON")
# save(Ã¨Â˜Â‡Ã¦Â¾Â³Ã¦ÂµÂ®Ã¦Â¨Â™,file="Ã¨Â˜Â‡Ã¦Â¾Â³Ã¦ÂµÂ®Ã¦Â¨Â™.Rda")
}
GetXiaoLiuQiu <- function(){
XiaoLiuQiuUrl = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/46714D.html'
XiaoLiuQiuBuoy = 'https://www.cwb.gov.tw/V7/marine/sea_condition/eng/tables/1386.html'
XiaoLiuQiuData <- (GetBuoyData(XiaoLiuQiuUrl,XiaoLiuQiuBuoy))
# Ã¥Â°ÂÃ§ÂÂ‰Ã§ÂÂƒÃ¦ÂµÂ®Ã¦Â¨Â™ <- XiaoLiuQiuData
#save(XiaoLiuQiuData,file="XiaoLiuQiuBuoyData.Rda")
dfjson <- toJSON(XiaoLiuQiuData)
write(dfjson,file="./buoyData/XiaoLiuQiu.JSON")
# save(Ã¥Â°ÂÃ§ÂÂ‰Ã§ÂÂƒÃ¦ÂµÂ®Ã¦Â¨Â™,file="Ã¥Â°ÂÃ§ÂÂ‰Ã§ÂÂƒÃ¦ÂµÂ®Ã¦Â¨Â™.Rda")
}
GetTideData <- function(tideUrl){
tideData <- htmltab(tideUrl,rm_nodata_cols = FALSE, rm_nodata_rows = FALSE)
tideData <- transpose(tideData)
colnames(tideData) <- as.character(unlist(tideData[1,]))
tideData <- tideData[-1,]
tideData[,3] <- gsub("morn-ing","morning",tideData[,3])
tideData[,3] <- gsub("after-noon","afternoon",tideData[,3])
tideData[is.na(tideData)] <- "-"
tideData$Time <- paste(tideData[,2],tideData[,3])
tideData <- tideData[,-c(1:4)]
if(ncol(tideData) < 16){
tideData <- tideData[,-c(3:10)]
tideData <- tideData[,c(5,1,2,3,4)]
return(tideData)
}else{
tideData <- tideData[,-c(6:13)]
tideData <- tideData[,c(8,1,2,6,7,3,4,5)]
tideData[,7] <- as.numeric(tideData[,7])
tideData[,8] <- as.numeric(tideData[,8])
tideData[,6] <- as.factor(tideData[,6])
tideData$Number <- as.numeric(c(1:nrow(tideData)))
return(tideData)
}
}
PredTaitung <- function(){
TaitungTide = 'https://www.tide-forecast.com/locations/Taitung-City/forecasts/latest/six_day'
TaitungTideData <- GetTideData(TaitungTide)
# Ã¥ÂÂ°Ã¦ÂÂ±Ã¦Â½Â® <- TaitungTideData
save(TaitungTideData,file="TaitungTideData.Rda")
# save(Ã¥ÂÂ°Ã¦ÂÂ±Ã¦Â½Â®,file="Ã¥ÂÂ°Ã¦ÂÂ±Ã¦Â½Â®.Rda")
}
PredHualien <- function(){
HualienTide = 'https://www.tide-forecast.com/locations/Hualien-City/forecasts/latest/six_day'
HualienTideData <- GetTideData(HualienTide)
# Ã¨ÂŠÂ±Ã¨Â“Â®Ã¦Â½Â®<- HualienTideData
save(HualienTideData,file="HualienTideData.Rda")
# save(Ã¨ÂŠÂ±Ã¨Â“Â®Ã¦Â½Â®,file="Ã¨ÂŠÂ±Ã¨Â“Â®Ã¦Â½Â®.Rda")
}
PredYilan <- function(){
ChiLungTide = 'https://www.tide-forecast.com/locations/Chi-Lung-Taiwan/forecasts/latest/six_day'
YilanTideData <- GetTideData(ChiLungTide)
# Ã¥Â®ÂœÃ¨Â˜­Ã¦Â½Â® <- YilanTideData
save(YilanTideData,file="YilanTideData.Rda")
# save(Ã¥Â®ÂœÃ¨Â˜­Ã¦Â½Â®,file="Ã¥Â®ÂœÃ¨Â˜­Ã¦Â½Â®.Rda")
}
PredSuAo <- function(){
ChiLungTide = 'https://www.tide-forecast.com/locations/Chi-Lung-Taiwan/forecasts/latest/six_day'
SuAoTideData <- GetTideData(ChiLungTide)
# Ã¨Â˜Â‡Ã¦Â¾Â³Ã¦Â½Â® <- SuAoTideData
save(SuAoTideData,file="SuAoTideData.Rda")
# save(Ã¨Â˜Â‡Ã¦Â¾Â³Ã¦Â½Â®,file="Ã¨Â˜Â‡Ã¦Â¾Â³Ã¦Â½Â®.Rda")
}
PredXiaoLiuQiu <- function(){
HengChunTide = 'https://www.tide-forecast.com/locations/Heng-ch-un/forecasts/latest/six_day'
XiaoLiuQiuTideData <- GetTideData(HengChunTide)
# Ã¥Â°ÂÃ§ÂÂ‰Ã§ÂÂƒÃ¦Â½Â® <- XiaoLiuQiuTideData
save(XiaoLiuQiuTideData,file="XiaoLiuQiuTideData.Rda")
# save(Ã¥Â°ÂÃ§ÂÂ‰Ã§ÂÂƒÃ¦Â½Â®,file="Ã¥Â°ÂÃ§ÂÂ‰Ã§ÂÂƒÃ¦Â½Â®.Rda")
}
GetXiaoLiuQiu()
GetSuAo()
GetYilan()
GetHualien()
GetTaitung()
#PredHualien()
#PredSuAo()
#PredTaitung()
#PredXiaoLiuQiu()
#PredYilan()
